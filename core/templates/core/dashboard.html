<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>LatencyLens Dashboard - Dark</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* A subtle gradient for a more dynamic background */
      body {
        background-color: #0f172a; /* bg-slate-900 */
        background-image: radial-gradient(
          at 20% 0%,
          hsla(212, 45%, 25%, 0.3) 0px,
          transparent 50%
        );
      }
    </style>
  </head>
  <body class="font-sans text-slate-300">
    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
      <header class="mb-8 text-center">
        <h1 class="text-4xl font-bold tracking-tight text-white">
          LatencyLens
        </h1>
        <p class="mt-2 text-lg text-slate-400">
          A real-time overview of server response times.
        </p>
      </header>

      <div
        class="rounded-xl shadow-lg ring-1 ring-white/10 overflow-hidden"
        style="background-color: #1e293b"
      >
        <table class="min-w-full divide-y divide-slate-700">
          <thead class="bg-slate-900/70">
            <tr>
              <th
                scope="col"
                class="py-3.5 px-4 text-left text-sm font-semibold text-slate-300"
              >
                Server
              </th>
              <th
                scope="col"
                class="py-3.5 px-4 text-left text-sm font-semibold text-slate-300"
              >
                Latency (ms)
              </th>
              <th
                scope="col"
                class="py-3.5 px-4 text-left text-sm font-semibold text-slate-300"
              >
                Checked At
              </th>
            </tr>
          </thead>

          <tbody class="divide-y divide-slate-800">
            {% for entry in latency_results %}
            <tr class="hover:bg-slate-700/50 transition-colors">
              <td
                class="whitespace-nowrap py-4 px-4 text-sm font-medium text-white"
              >
                {{ entry.server }}
              </td>
              <td class="whitespace-nowrap py-4 px-4 text-sm text-slate-300">
                {% if entry.latency_ms %} {{ entry.latency_ms }} {% else %}
                <span
                  class="inline-flex items-center rounded-md bg-red-500/10 px-2 py-1 text-xs font-medium text-red-400 ring-1 ring-inset ring-red-500/20"
                >
                  Timeout / Failed
                </span>
                {% endif %}
              </td>
              <td class="whitespace-nowrap py-4 px-4 text-sm text-slate-400">
                {{ entry.checked_at }}
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <footer class="text-center mt-8">
        <p class="text-sm text-slate-500">
          Last updated: August 14, 2025 at 5:09 AM IST
        </p>
      </footer>
    </div>
  </body>
</html>
